<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Gestionnaire SNMP v2c</title>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css">
  <link rel="stylesheet" href="./css/style.css">
</head>
<body>

  <!-- HEADER -->
  <header class="bg-primary text-white text-center py-3 shadow-sm">
    <h1>Gestionnaire SNMP v2c</h1>
  </header>

  <!-- MENU NAVIGATION -->
  <nav class="nav nav-tabs justify-content-center mt-3" id="mainTabs">
    <button class="nav-link active" data-tab="trames">Trames</button>
    <button class="nav-link" data-tab="config">Configuration</button>
    <button class="nav-link" data-tab="historique">Historique</button>
  </nav>

  <!-- CONTENU PRINCIPAL -->
  <main class="container my-4" id="content">

    <!-- ONGLET TRAMES -->
    <section id="tab-trames" class="tab-content active">
      <h3>Création et envoi d'une trame SNMP</h3>
      <form id="snmpForm" class="row g-3 mt-3">
        <div class="col-md-4">
          <label for="type" class="form-label">Type de trame</label>
          <select id="type" class="form-select" required>
            <option value="GET">GET</option>
            <option value="SET">SET</option>
            <option value="TRAP">TRAP</option>
          </select>
        </div>
        <div class="col-md-4">
          <label for="community" class="form-label">Communauté</label>
          <input type="text" id="community" class="form-control" placeholder="public" required>
        </div>
        <div class="col-md-4">
          <label for="target" class="form-label">Adresse IP cible</label>
          <input type="text" id="target" class="form-control" placeholder="192.168.0.10" required>
        </div>
        <div class="col-md-6">
          <label for="oid" class="form-label">OID</label>
          <input type="text" id="oid" class="form-control" placeholder="1.3.6.1.2.1.1.1.0" required>
        </div>
        <div class="col-md-6">
          <label for="value" class="form-label">Valeur (SET uniquement)</label>
          <input type="text" id="value" class="form-control" placeholder="ex: SNMPv2c test">
        </div>

        <div class="col-12 text-center mt-3">
          <button type="submit" class="btn btn-success px-4">Envoyer la trame</button>
        </div>
      </form>

      <div id="responseZone" class="alert alert-light border mt-4 d-none">
        <h5>Réponse du serveur :</h5>
        <pre id="responseText" class="mb-0"></pre>
      </div>
    </section>

    <!-- ONGLET CONFIGURATION -->
    <section id="tab-config" class="tab-content d-none">
      <h3>Configuration SNMP</h3>
      <form id="configForm" class="row g-3 mt-3">
        <div class="col-md-4">
          <label for="configIp" class="form-label">Adresse IP par défaut</label>
          <input type="text" id="configIp" class="form-control" value="192.168.0.10">
        </div>
        <div class="col-md-4">
          <label for="configPort" class="form-label">Port SNMP</label>
          <input type="number" id="configPort" class="form-control" value="161">
        </div>
        <div class="col-md-4">
          <label for="configCommunity" class="form-label">Communauté</label>
          <input type="text" id="configCommunity" class="form-control" value="public">
        </div>
        <div class="col-12 text-center mt-3">
          <button type="submit" class="btn btn-primary">Sauvegarder</button>
        </div>
      </form>
    </section>

    <!-- ONGLET HISTORIQUE -->
    <section id="tab-historique" class="tab-content d-none">
      <h3>Historique des trames envoyées</h3>
      <button id="refreshHistory" class="btn btn-outline-secondary my-3">Actualiser</button>
      <div class="table-responsive">
        <table class="table table-striped text-center">
          <thead class="table-dark">
            <tr>
              <th>Date</th>
              <th>Type</th>
              <th>OID</th>
              <th>Cible</th>
              <th>Valeur</th>
              <th>Statut</th>
            </tr>
          </thead>
          <tbody id="historyTable">
            <tr><td colspan="6" class="text-muted">Aucune trame envoyée pour le moment.</td></tr>
          </tbody>
        </table>
      </div>
    </section>

  </main>

  <!-- FOOTER -->
  <footer class="text-center text-muted py-3 border-top">
    SAE 501-502 – Outil de gestion SNMPv2c – © 2025 |
    <a href="#" class="text-decoration-none">Documentation API</a>
  </footer>

  <script src="./js/app.js"></script>
</body>
</html>
